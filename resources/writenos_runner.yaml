resources:
  jobs:
    WriteNOS_Runner:
      name: WriteNOS-Runner
      tasks:
        - task_key: run
          python_wheel_task:
            package_name: reloadmanager
            entry_point: reloadmanager
            parameters:
              - reload-table
              - --source-table
              - "{{job.parameters.source_table}}"
              - --target-table
              - "{{job.parameters.target_table}}"
              - --where-clause
              - "{{job.parameters.where_clause}}"
              - --strategy
              - "WriteNOS"
          existing_cluster_id: ${var.cluster_id}
          libraries:
            - whl: ../dist/*.whl
      queue:
        enabled: true
      max_concurrent_runs: ${var.writenos_threads}
      parameters:
        - name: source_table
          default: ""
        - name: target_table
          default: ""
        - name: where_clause
          default: ""