resources:
  jobs:
    WriteNOS_Runner:
      name: WriteNOS-Runner
      tasks:
        - task_key: run
          notebook_task:
            notebook_path: ../src/writenos_runner.py
          existing_cluster_id: ${var.cluster_id}
          max_retries: 3
          min_retry_interval_millis: 300000
          libraries:
            - whl: ../dist/*.whl
      queue:
        enabled: true
      max_concurrent_runs: ${var.writenos_threads}
      parameters:
        - name: source_table
          default: ""
        - name: target_table
          default: ""
        - name: where_clause
          default: ""
        - name: primary_key
          default: ""
        - name: log_level
          default: "debug"
        - name: create_table_if_not_exists
          default: ""